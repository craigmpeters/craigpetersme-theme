<div class="post">
  <h1>{{ .Title }}</h1>
  {{ if ne .Params.showpagemeta false }}
  <div class="post-metadata">
    <span class="text-left post-date meta">
      <!-- published date -->      
      {{ if not .Date.IsZero }} 
      <span class="post-metadata-date">
        <span class="fas fa-calendar-alt"></span>
        <span class="post-metadata-date-date"> {{ .Date.Format (.Site.Params.dateformat | default "Jan 02, 2006") -}}</span>
      </span>
      {{ end }}
      <!-- categories -->
      {{ with .Params.categories }}
        {{ $total := len . }}
        {{ if gt $total 0 }}
            in
            {{ $total := sub $total 1 }}
            {{ range $i, $cat := sort . }}
                <a class="meta" href="{{ "/categories/" | relURL }}{{ $cat | urlize }}">{{ $cat | upper }}</a>
                {{ if lt $i $total }},{{ end }}
            {{ end }}
        {{ end }}
      {{ end }}
      <!-- tags -->
      {{ with .Params.tags }}
        {{ $total := len . }}
        {{ if gt $total 0 }}
            <br/>
            {{ $subtotal := sub $total 1 }} <i class="fas fa-tags"></i>
            {{ range $i, $tag := sort . }}
            <a class="meta" href="{{ "/tags/" | relURL }}{{ $tag | urlize }}">{{ $tag | lower }}</a>{{ if lt $i $subtotal }} {{ end }}
        {{ end }}
      {{ end }}
      {{ end }}
    </span>  
  </div>    
  {{ end }}
  <div class="article-content">
    {{ .Content }}
  </div>
  
</div>